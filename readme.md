Как запускать

Установка зависимостей:

npm install

Подготовка авторизации (если выбран Storage State):

npm run auth:setup

Запуск тестов:

npm run test:session

npm run test:nosession

Просмотр HTML-отчёта:

npm run report

Авторизация: Storage State vs Login Flow
Storage State:

Быстро, не тратим время на повторный логин.
Стабильно для всех тестов, если сессия не истекла.
Проблема: сессия может инвалидироваться, тогда нужен повторный auth:setup.

Login Flow:

Полный путь авторизации через UI.
Валидирует форму логина, работает при изменении куков/сессии.
Медленнее и менее стабильно из-за UI-задержек и модалок.

Выбор: Для тестов мы используем Storage State для скорости и стабильности.

Архитектура

POM (Page Object Model): Login, Bot, Trading страницы.
Фикстуры Playwright:
authenticatedPage — авторизация и редирект.
botPage — работа с демо-режимом.
tradingPage — выставление ордеров.

Генерация случайных значений:

price — в валидном диапазоне для рынка.
volume — кликом/ползунком в диапазоне 10–60%.

Anti-flaky меры

Явные ожидания элементов (expect(locator).toBeVisible(), toBeEnabled()).
Надёжные локаторы через data-test-id или текстовые селекторы.
